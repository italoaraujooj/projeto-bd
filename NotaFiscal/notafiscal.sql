--notas fiscais cadastradas

-- NOTA FISCAL
CREATE TABLE NOTA_FISCAL (
  CODNF             INTEGER,
  NUMERO              VARCHAR(50) NOT NULL,
  SERIE               VARCHAR(50) NOT NULL,
  INSCRICAO_ESTADUAL  VARCHAR(50) NOT NULL,
  CHAVE_ACESSO        VARCHAR(160) NOT NULL,
  DATA_NF             DATE NOT NULL,
  VALOR_TOTAL         NUMBER(11,2) NOT NULL,
  COD_ORDEM_COMPRA     INTEGER,
  CONSTRAINT NOTA_FISCAL_PK PRIMARY KEY(CODNF),
  CONSTRAINT CODIGO_ORDEM_DE_COMPRA_FK     FOREIGN KEY (COD_ORDEM_COMPRA)    REFERENCES ORDEM_DE_COMPRA(CODORDEM)
);

INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'101.101.101','1','123456789','441',TO_DATE('2023-05-29','YYYY-MM-DD'),7,1);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'202.202.202','1','123456789','442',TO_DATE('2023-04-27','YYYY-MM-DD'),1489.80,2);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'302.302.302','1','123456789','443',TO_DATE('2023-03-27','YYYY-MM-DD'),100,3);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'402.204.402','1','123456789','444',TO_DATE('2023-03-27','YYYY-MM-DD'),140.3,4);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'502.502.205','1','123456789','445',TO_DATE('2023-06-06','YYYY-MM-DD'),7,5);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'602.502.205','1','123456789','446',TO_DATE('2020-01-06','YYYY-MM-DD'),6,6);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'702.502.205','2','123456789','447',TO_DATE('2020-01-06','YYYY-MM-DD'),1489.80,7);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'802.502.205','2','123456789','448',TO_DATE('2023-04-06','YYYY-MM-DD'),9.3,8);
INSERT INTO NOTA_FISCAL(CODNF, NUMERO, SERIE, INSCRICAO_ESTADUAL, CHAVE_ACESSO, DATA_NF, VALOR_TOTAL, COD_ORDEM_COMPRA)
VALUES (NOTA_FISCAL_SEQ.NEXTVAL,'902.502.205','2','123456789','449',TO_DATE('2023-02-06','YYYY-MM-DD'),9.9,9);











-- Pelo menos uma deve registrar a compra de +5 itens

